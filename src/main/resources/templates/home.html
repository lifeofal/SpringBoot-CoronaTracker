<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>Coronavirus Active Tracking</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

		<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

		<link
			rel="stylesheet"
			type="text/css"
			media="all"
			href="../../css/gtvg.css"
			th:href="@{/css/gtvg.css}"
		/>

		<!-- Bootstrap -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
			crossorigin="anonymous"
		/>
		<script
			src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
			integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
			crossorigin="anonymous"
		></script>

		<script
			src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
			integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
			crossorigin="anonymous"
		></script>

		<script
			src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
			integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
			crossorigin="anonymous"
		></script>

		<!-- CSS -->

		<link rel="stylesheet" href="css/styles.css" />

		<!-- Font awesome -->
		<link
			rel="stylesheet"
			href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
			integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
			crossorigin="anonymous"
		/>
	</head>

	<body>
		<section id="title">
			<div class="container-fluid !direction !spacing">
				<!-- Nav Bar -->

				<nav class="navbar navbar-expand-lg navbar-dark">
					<a class="navbar-brand" href="https://lifeofal.herokuapp.com/">
						<img
							src="/images/favicon.png"
							alt=""
							width="25"
							height="25"
							class="d-inline-block align-text-top"
						/>
						lifeofal
					</a>
					<button
						class="navbar-toggler"
						type="button"
						data-toggle="collapse"
						data-target="#navbarSupportedContent"
						aria-controls="navbarSupportedContent"
						aria-expanded="false"
						aria-label="Toggle navigation"
					>
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav">
							<li class="nav-item">
								<a class="nav-link" aria-current="page" href="#"></a>
							</li>
							<li class="nav-item">
								<a class="nav-link" aria-current="page" href="#"></a>
							</li>
							<li class="nav-item">
								<a class="nav-link" aria-current="page" href="#"></a>
							</li>
						</ul>
					</div>
				</nav>
			</div>
		</section>

		<section id="table">
			<div class="container-fluid !direction !spacing">
				<div class="row">
					<div class="col-lg-12">
						<div class="dropdown">
							<form th:action="@{/}" method="get">
							<button
								class="btn btn-secondary dropdown-toggle"
								type="button"
								id="dropdownMenuButton2"
								data-bs-toggle="dropdown"
								aria-expanded="false"
							>
								Select State
							</button>
							<ul
								class="dropdown-menu dropdown-menu-dark"
								aria-labelledby="dropdownMenuButton2"
							>
								<li th:each = "state : ${states}">
									<button class="dropdown-item"  name="stateSelected" th:value="${state}" th:text = "${state}" type="submit"></button>

								</li>
								<!-- <li><a class="dropdown-item" href="#">Another action</a></li>
								<li>
									<a class="dropdown-item" href="#">Something else here</a>
								</li>
								<li><hr class="dropdown-divider" /></li>
								<li><a class="dropdown-item" href="#">Separated link</a></li> -->
							</ul>
							</form>
						</div>
					</div>
				</div>
				<div class="row corona-table">
					<div class="col-lg-12">
						<table class="table table-dark table-striped">
							<tr>
								<th>COUNTRY</th>
								<th>COUNTY</th>
								<th>STATE</th>
								<th>CONFIRMED CASES</th>
							</tr>
							<tr th:each="locationStat : ${locationStats}">
								<td th:text="${locationStat.country}"></td>
								<td th:text="${locationStat.county}"></td>
								<td th:text="${locationStat.state}"></td>
								<td th:text="${locationStat.latestConfirmedCases}"></td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</section>

		<!-- JS -->

		<script>
            // Change the text of the button to the selected option
            document.querySelectorAll('.dropdown-item').forEach(item => {
              item.addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('dropdownMenuButton2').textContent = this.textContent;
              });
            });
        </script>
		<script
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
			integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
			integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
			crossorigin="anonymous"
		></script>
	</body>
</html>
